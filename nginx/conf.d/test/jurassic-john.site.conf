upstream portfolio-site {
  server portfolio-site:80;
}

server {
  listen [::]:80;
  listen 80;

  server_name www.jurassic-john.local;

  return 301 $scheme://jurassic-john.local$request_uri;
}


server {
  listen [::]:80;
  listen 80;

  server_name jurassic-john.local;

  # Include the basic h5bp config set
  include h5bp/basic.conf;
  # Test CSP
  add_header Content-Security-Policy "default-src 'self'; font-src 'self' fonts.gstatic.com; style-src 'self' fonts.googleapis.com; base-uri 'none'; form-action 'self'; frame-ancestors 'none';" always;

  # Rwverse proxy requests.
  location /  {
    proxy_pass http://portfolio-site;
  }
}
